(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{130:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},192:function(e,t,a){e.exports=a(391)},197:function(e,t,a){},198:function(e,t,a){},347:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),o=a.n(i),l=(a(197),a(26)),s=a(27),c=a(29),u=a(28),p=a(30),d=a(392),m=a(62),h=a(53),f=a(138),E=a(5),b=(a(198),a(130)),v=a.n(b),y=d.a.Sider,g=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y,{breakpoint:"lg",collapsedWidth:"0",theme:"dark"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:v.a,alt:"fireSpot"})),r.a.createElement(f.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["2"]},r.a.createElement(f.a.Item,{key:"1",to:"/"},r.a.createElement(E.a,{type:"home"}),r.a.createElement("span",{className:"nav-text"},"Home"),r.a.createElement(m.b,{to:"/"})),r.a.createElement(f.a.Item,{key:"2"},r.a.createElement(E.a,{type:"user"}),r.a.createElement("span",{className:"nav-text"},"Product Backlog"),r.a.createElement(m.b,{to:"/product"})),r.a.createElement(f.a.Item,{key:"3"},r.a.createElement(E.a,{type:"video-camera"}),r.a.createElement("span",{className:"nav-text"},"Sprint Backlog"),r.a.createElement(m.b,{to:"/sprint"})),r.a.createElement(f.a.Item,{key:"4"},r.a.createElement(E.a,{type:"user"}),r.a.createElement("span",{className:"nav-text"},"User Center"),r.a.createElement(m.b,{to:"/user"}))))}}]),t}(r.a.Component),I=a(31),k=a.n(I),S=a(103),w=a(24),C=a(394),O=a(399),x=a(102),j=a(393),_=a(80),D=a(397),P=a(395),T=a(396),B=a(398),N=_.a.Option,M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTitleInput=function(e){a.setState({title:e.target.value})},a.handleDetailInput=function(e){a.setState({detail:e.target.value})},a.handleStoryPointInput=function(e){a.setState({story_point:e.target.value})},a.handleStatusInput=function(e){a.setState({status:e.target.value})},a.handleSubmit=function(){k.a.put("http://127.0.0.1:8000/product/api/".concat(a.props.pbi.id,"/update/"),{title:a.state.title,detail:a.state.detail,status:a.state.status,sprintNo:a.props.pbi.sprint_no,start_date:a.props.pbi.start_date,story_point:a.state.story_point,priority:a.props.pbi.priority}).then((function(e){a.props.refresh(),a.props.close()})).then((function(e){return console.log(e)}))},a.state={title:a.props.pbi.title,detail:a.props.pbi.detail,story_point:a.props.pbi.story_point,status:a.props.pbi.status},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(D.a,{title:"Edit PBI",visible:this.props.visible,onOk:this.handleSubmit,onCancel:this.props.close},r.a.createElement(P.a,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},r.a.createElement(P.a.Item,{label:"Title"},r.a.createElement(T.a,{value:this.state.title,onChange:this.handleTitleInput})),r.a.createElement(P.a.Item,{label:"Status"},r.a.createElement(_.a,{defaultValue:this.state.status,style:{width:120}},r.a.createElement(N,{value:"To Do"},"To Do"),r.a.createElement(N,{value:"In Progress"},"In Progress"),r.a.createElement(N,{value:"Done"},"Done"))),r.a.createElement(P.a.Item,{label:"Story Points"},r.a.createElement(B.a,{value:this.state.story_point,onChange:this.handleStoryPointInput})),r.a.createElement(P.a.Item,{label:"Details"},r.a.createElement(T.a.TextArea,{value:this.state.detail,rows:4,onChange:this.handleDetailInput}))))}}]),t}(r.a.Component);k.a.defaults.xsrfHeaderName="X-CSRFToken",k.a.defaults.xsrfCookieName="csrftoken";var V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleDelete=function(){k.a.delete("http://127.0.0.1:8000/product/api/".concat(a.props.pbi.id,"/delete/"),{data:{id:a.props.pbi.id}}).then((function(e){a.props.refresh(),O.a.success("PBI deleted!",3)})).catch((function(e){return console.log(e)}))},a.handleMove=function(e){k.a.post("http://127.0.0.1:8000/product/api/move/",{priority:a.props.pbi.priority,option:e,withCredentials:!0}).then((function(e){a.props.refresh(),O.a.success("PBI moved!",3)})).catch((function(e){return console.log(e)}))},a.handleEdit=function(){a.setState({editing:!0})},a.handleClose=function(){a.setState({editing:!1})},a.handleMoveToSprint=function(){k.a.post("http://127.0.0.1:8000/product/api/movetosprint/",{id:a.props.pbi.id}).then((function(e){O.a.success("PBI moved to sprint!",3),a.props.refresh()}))},a.state={editing:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(x.a,{title:"Move up"},r.a.createElement(w.a,{icon:"up",onClick:function(){return e.handleMove("up")}})),r.a.createElement(x.a,{title:"Move down"},r.a.createElement(w.a,{icon:"down",onClick:function(){return e.handleMove("down")}})),r.a.createElement(x.a,{title:"Delete"},r.a.createElement(j.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete()}},r.a.createElement(w.a,{icon:"delete"}))),r.a.createElement(x.a,{title:"Edit"},r.a.createElement(w.a,{icon:"edit",onClick:this.handleEdit})),r.a.createElement(M,{pbi:this.props.pbi,visible:this.state.editing,refresh:this.props.refresh,close:this.handleClose}),r.a.createElement(x.a,{title:"Move to sprint"},r.a.createElement(j.a,{title:"Move to sprint?",onConfirm:function(){return e.handleMoveToSprint()}},r.a.createElement(w.a,{icon:"forward"}))))}}]),t}(r.a.Component),F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTitleInput=function(e){a.setState({title:e.target.value})},a.handleDetailInput=function(e){a.setState({detail:e.target.value})},a.handleStoryPointInput=function(e){a.setState({story_point:e})},a.postNewPBI=function(){k.a.post("http://127.0.0.1:8000/product/api/create/",{title:a.state.title,detail:a.state.detail,status:"To Do",sprint_no:0,story_point:a.state.story_point,start_date:"2019-01-01",priority:a.props.priority_max+1}).then((function(e){O.a.success("New PBI created!",3),a.setState({title:"",detail:"",story_point:0}),a.props.refresh()})).catch((function(e){console.log(e)}))},a.handleSubmit=function(){a.postNewPBI(),a.props.close()},a.state={title:"",detail:"",story_point:0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{title:"Add PBI",visible:this.props.visible,onOk:this.handleSubmit,onCancel:this.props.close},r.a.createElement(P.a,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},r.a.createElement(P.a.Item,{label:"Title"},r.a.createElement(T.a,{value:this.state.title,onChange:this.handleTitleInput,placeholder:"Enter title"})),r.a.createElement(P.a.Item,{label:"Story Points"},r.a.createElement(B.a,{value:this.state.story_point,onChange:this.handleStoryPointInput,defaultValue:0})),r.a.createElement(P.a.Item,{label:"Details"},r.a.createElement(T.a.TextArea,{value:this.state.detail,rows:4,onChange:this.handleDetailInput,placeholder:"Enter detail"})))))}}]),t}(r.a.Component),A=(a(347),a(348),d.a.Header),H=d.a.Content,L=d.a.Footer,G=(d.a.Sider,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetch=function(){k.a.get("http://127.0.0.1:8000/product/api/").then((function(e){var t=e.data;t.sort((function(e,t){return e.priority<t.priority?-1:1}));var n,r=0;for(n=0;n<t.length;++n)r+=t[n].story_point,t[n].acc=r;a.setState({pbiList:t,priority_max:t[t.length-1].priority})})).catch((function(e){return console.log(e)}))},a.handleViewChange=function(e){a.setState({currentView:!a.state.currentView})},a.showEditForm=function(){a.setState({adding:!0})},a.closeEditForm=function(){a.setState({adding:!1})},a.columns=[{title:"Title",dataIndex:"title",width:"10%"},{title:"Sprint No",dataIndex:"sprint_no",width:"10%"},{title:"Status",dataIndex:"status",width:"10%"},{title:"Detail",dataIndex:"detail",width:"15%"},{title:"Story Point",dataIndex:"story_point",width:"10%"},{title:"Accumulated Story Point",dataIndex:"acc",width:"10%"},{title:"Priority",dataIndex:"priority",width:"10%"},{title:"Actions",render:function(e){return r.a.createElement(V,{pbi:e,refresh:a.fetch})}}],a.state={currentView:!0,pbiList:[],pagination:{},adding:!1,priority_max:-1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return r.a.createElement(d.a,{style:{height:"100vh"}},r.a.createElement(A,{style:{background:"#fff",padding:0,textAlign:"center"}},"Product Backlog"),r.a.createElement(H,{style:{margin:"24px 16px 0"}},r.a.createElement("div",null,r.a.createElement(S.a.Group,{value:this.state.currentView?"current":"full",onChange:this.handleViewChange},r.a.createElement(S.a.Button,{value:"current"},"Current View"),r.a.createElement(S.a.Button,{value:"full"},"Full View")),r.a.createElement(w.a,{icon:"plus",onClick:this.showEditForm}),r.a.createElement(F,{visible:this.state.adding,close:this.closeEditForm,priority_max:this.state.priority_max,refresh:this.fetch})),r.a.createElement(C.a,{columns:this.columns,rowKey:function(e){return e.id.toString()},pagination:this.state.pagination,dataSource:this.state.currentView?this.state.pbiList.filter((function(e){return"Done"!==e.status})):this.state.pbiList})),r.a.createElement(L,{style:{textAlign:"center"}},"Developed by FastDev (Group F)"))}}]),t}(r.a.Component)),R=a(400),W=C.a.Column,J=C.a.ColumnGroup,K=d.a.Header,U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).fetch=function(){k.a.get("http://127.0.0.1:8000/sprint/api/").then((function(e){var t,n,r=e.data;for(t=0;t<r.length;++t){var i=r[t].tasks,o=0,l=0;for(n=0;n<i.length;++n)l+=i[n].estimated_time,"Done"!=i[n].status&&(o+=i[n].estimated_time);r[t].total=l,r[t].remaining=o}a.setState({pbis:r}),console.log(a.state.pbis)})).catch((function(e){return console.log(e)}))},a.state={pbis:[]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){return r.a.createElement(d.a,{style:{height:"100vh"}},r.a.createElement(K,{style:{background:"#fff",padding:0,textAlign:"center"}},"Sprint Backlog"),r.a.createElement(C.a,{dataSource:this.state.pbis},r.a.createElement(W,{title:"PBI",dataIndex:"title",key:"pbi",width:"15%",render:function(e){return r.a.createElement("span",null,e)}}),r.a.createElement(J,{title:"Task"},r.a.createElement(W,{title:"To Do",dataIndex:"tasks",key:"to_do",render:function(e){return r.a.createElement("span",null,e.filter((function(e){return"To Do"==e.status})).map((function(e){return r.a.createElement(R.a,{color:"blue",key:e},e.name)})))}}),r.a.createElement(W,{title:"In Progress",dataIndex:"tasks",key:"in_progress",render:function(e){return r.a.createElement("span",null,e.filter((function(e){return"In Progress"==e.status})).map((function(e){return r.a.createElement(R.a,{color:"blue",key:e},e.name)})))}}),r.a.createElement(W,{title:"Done",dataIndex:"tasks",key:"done",render:function(e){return r.a.createElement("span",null,e.filter((function(e){return"Done"==e.status})).map((function(e){return r.a.createElement(R.a,{color:"blue",key:e},e.name)})))}}),"/> */}"),r.a.createElement(W,{title:"Remaining Effort",dataIndex:"remaining",key:"remaining",width:"15%",render:function(e){return r.a.createElement("span",null,e)}}),r.a.createElement(W,{title:"Remaining Effort",dataIndex:"total",key:"total",width:"15%",render:function(e){return r.a.createElement("span",null,e)}})))}}]),t}(r.a.Component);function X(){return r.a.createElement("h1",null,"User Center")}function $(){return r.a.createElement("h2",null,"Home")}var q=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(d.a,{style:{height:"100vh"}},r.a.createElement(g,null),r.a.createElement(d.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/product",component:G}),r.a.createElement(h.a,{path:"/sprint",component:U}),r.a.createElement(h.a,{path:"/user",component:X}),r.a.createElement(h.a,{path:"/",component:$})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[192,1,2]]]);
//# sourceMappingURL=main.00a3dff2.chunk.js.map